<div ng-controller="DashboardGoalsController as goalsCtrl">
  <div class="project-goals-plot" ng-repeat="project in goalsCtrl.projectsWithGoals">
    <div class="row project-title" style="text-align: center;">
      <h2>{{project.title}}</h2>
    </div>
    <div class="row" style="margin-top: 55px;">
      <div class="col-md-3 goals-header" ng-repeat="outcome in project.outcomes">
                <span class="circle" style="background-color: {{outcome.color}};">
                </span>
        {{outcome.title + " (" + outcome.validations.length + ")"}}
      </div>
    </div>

    <div class="flot-chart" ng-if="project.chartData.length > 0">
      <div class="flot-chart-content">
        <flot dataset="project.chartData" options="project.chartOptions" height="300px"></flot>
      </div>
      <div class="y-label">Goals</div>
    </div>
    
    <div ng-if="project.chartData.length == 0">
      <h4 class="placeholder-for-empty-plot">Although the charity's hard at work, no goals have been validated yet. Check back soon to see their progress!</h4>
    </div>
  </div>
</div>