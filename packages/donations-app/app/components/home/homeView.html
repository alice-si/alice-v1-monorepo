<div ng-controller="HomeController as homeCtrl"
     class="home-container">

  <div class="home-splash-wrapper home-section col-md-12">
    <img id="home-splash-logo" src="https://s3.eu-west-2.amazonaws.com/alice-res/AliceLogoWhite.png"/>
    <div class="home-splash-text">
      <div class="home-splash-title">TRANSPARENT GIVING</div>
      <div class="section-heading-border"></div>
      <div class="home-splash-subtitle">
        When you give to a charity on Alice, you can track whether it achieves its goals.
        In fact, you only pay if it does.<br><br>
        This level of transparency is possible thanks to blockchain technology.
      </div>
      <div class="home-splash-btn">
        <a href="#home-projects" class="underline-from-center">VIEW PROJECTS</a>
      </div>
    </div>
  </div>

  <div class="home-pilot-wrapper home-section col-md-12">
    <div class="home-pilot-text">
      <div class="home-pilot-title">PILOT PROJECT</div>
      <div class="section-heading-border"></div>
      <div class="home-pilot-subtitle">
        <span class="subtitle-title">LONDON STREET IMPACT: 15 LIVES</span><br><br>
        Helping 15 people rebuild their lives <br>away from the streets
      </div>
    </div>
    <div class="home-pilot-graphs col-md-10 col-md-offset-1">
      <div class="home-pilot-graph col-md-4">
        <div class="col-md-6 hidden-xs">
          <svg viewbox="0 0 33.83098862 33.83098862" width="165" height="165">
            <circle fill="rgba(255, 255, 255, 0.1)" cx="16.91549431" cy="16.91549431" r="15.91549431"/>
            <circle class="circle-chart-background" stroke="rgba(145, 145, 145, 0.3)" stroke-width="1" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
            <circle ng-style="{'stroke-dasharray': (homeCtrl.details.raised / homeCtrl.details.needed) * 100 + ',' + 100}" class="circle-chart-foreground" stroke="rgba(25, 152, 164, 0.61)" stroke-width="1" stroke-linecap="none" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
            <text x="51%" y="51%" text-anchor="middle" fill="#353e42" font-size="4px" letter-spacing="0.5px" font-weight="200">{{homeCtrl.details.raised | rounded}}</text>
            <text x="51%" y="62%" ng-style="{'width': '100%'}" fill="#1998a4" letter-spacing="1px" font-weight="200" font-size="2px" text-anchor="middle">RAISED</text>
          </svg>
        </div>
        <div class="graph-text col-md-6 hidden-xs col-sm">
          <span class="graph-text-title">HOW</span><br>
          <span class="graph-text-subtitle">MUCH WE RAISED</span><br><br>
              Sending the appeal to only 200 of St Mungo’s warm donors we managed to raise £13,627
        </div>
        <div class="col-xs-4 hidden-md hidden-lg">
          <svg viewbox="0 0 33.83098862 33.83098862" width="125" height="125">
            <circle fill="rgba(255, 255, 255, 0.1)" cx="16.91549431" cy="16.91549431" r="15.91549431"/>
            <circle class="circle-chart-background" stroke="rgba(145, 145, 145, 0.3)" stroke-width="1" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
            <!-- CHANGE PERCENTAGE VALUE HERE: stroke-dasharray(percent, 100) -->
            <circle ng-style="{'stroke-dasharray': (homeCtrl.details.raised / homeCtrl.details.needed) * 100 + ',' + 100}" class="circle-chart-foreground" stroke="rgba(25, 152, 164, 0.61)" stroke-width="1" stroke-linecap="none" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
            <text x="51%" y="51%" text-anchor="middle" fill="#353e42" font-size="4px" letter-spacing="0.5px" font-weight="200">{{homeCtrl.details.raised | rounded}}</text>
            <text x="51%" y="62%" ng-style="{'width': '100%'}" fill="#1998a4" letter-spacing="1px" font-weight="200" font-size="2px" text-anchor="middle">ACHIEVED</text>
          </svg>
        </div>
        <div class="graph-text hidden-md hidden-lg col-xs-6 col-xs-offset-2">
          <span class="graph-text-title">HOW</span><br>
          <span class="graph-text-subtitle">MUCH WE RAISED</span><br><br>
            Sending the appeal to only 200 of St MUngo’s warm donors we managed to raise £13,627
        </div>
      </div>
      <div class="home-pilot-graph col-md-4 hidden-xs">
        <div class="col-md-6">
          <svg viewbox="0 0 33.83098862 33.83098862" width="165" height="165">
            <circle fill="rgba(255, 255, 255, 0.1)" cx="16.91549431" cy="16.91549431" r="15.91549431"/>
            <circle class="circle-chart-background" stroke="rgba(145, 145, 145, 0.3)" stroke-width="1" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
            <circle ng-style="{'stroke-dasharray': homeCtrl.details.percentage + ',' + 100}" class="circle-chart-foreground" stroke="rgba(25, 152, 164, 0.61)" stroke-width="1" stroke-linecap="none" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
            <text x="51%" y="51%" text-anchor="middle" fill="#353e42" font-size="4px" letter-spacing="0.5px" font-weight="200">3</text>
            <text x="51%" y="62%" ng-style="{'width': '100%'}" fill="#1998a4" letter-spacing="1px" font-weight="200" font-size="2px" text-anchor="middle">PEOPLE HELPED</text>
          </svg>
        </div>
        <div class="graph-text col-md-6">
          <span class="graph-text-title">DID</span><br>
          <span class="graph-text-subtitle">IT SUCCEED</span><br><br>
            With your donations, we manage to find a temporary home to three homeless people and a permanent home to one of them!
        </div>
      </div>
      <div class="home-pilot-graph col-md-4">
      </div>
    </div>
    <div id="pilot-image" class="hidden-xs hidden-sm wow fadeInRight right">
      <img src="https://alex-s3-hatskier.s3.amazonaws.com/1534336890389_tom-parsons-426898-unsplash.jpg"/>
    </div>
  </div>

  <div id="home-projects" class="home-projects-wrapper home-section col-md-12">
    <img id="home-projects-logo" src="https://s3.eu-west-2.amazonaws.com/alice-res/AliceLogoWhite.png"/>
    <div class="home-projects-text">
      <div class="home-projects-title">PROJECTS</div>
      <div class="section-heading-border"></div>
      <div class="home-projects-subtitle">
        <span class="subtitle-title">PROVIDING YOU LARGE CHOICE FOR YOUR DONATIONS</span><br><br>
        VIEW A SMALL SELECTION BELOW
      </div>
    </div>


    <div class="projects-carousel" uib-carousel active="activeStory" interval="10000" no-wrap="false">
      <div uib-slide ng-repeat="slide in homeCtrl.projects track by $index" index="$index">
        <div id="projects-carousel" class="carousel-wrapper col-md-12 col-xs-12">
          <div class="circle-image-wrapper col-md-3 col-xs-12">
            <div class="carousel-image-cropper">
              <a href="/project/{{slide.projectCode}}/"><img ng-src="{{slide.projectImage}}" class="carousel-image"></a>
            </div>
          </div>
          <!--TODO parametrize the defualt landing mode for home page links -->
          <a href="/#/project/{{slide.projectCode}}/2">
            <div class="col-md-5 col-md-offset-1 col-xs-12 carousel-text">
              <h1 style="color: #38D2DA;">{{ slide.projectTitle }}</h1>
              <div class="project-charity"> {{ slide.projectCharity }} </div>
              <div ng-bind-html="slide.projectDetails"></div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="home-charities-wrapper home-section col-md-12">
    <div class="home-charities-text">
      <div class="home-charities-title">CHARITIES</div>
      <div class="section-heading-border"></div>
      <div class="home-charities-subtitle">
        WORKING WITH MANY NGOS TO TARGET MANY TYPES OF IMPACT
      </div>
    </div>
    <div class="col-md-10 home-charities-list">
      <div ng-repeat="charity in homeCtrl.charities" class="home-charity" ng-if="charity.darkPicture">
        <a  ng-href="{{ charity.url }}" target="_blank"><img ng-src="{{ charity.darkPicture }}" class="charity-logo charity-logo-homepage"/></a>
      </div>
    </div>
  </div>

  <div class="home-fundraise-wrapper home-section col-md-12">
    <img id="home-fundraise-logo" src="https://s3.eu-west-2.amazonaws.com/alice-res/AliceLogoWhite.png"/>
    <div class="home-fundraise-text">
      <div class="home-fundraise-title">START FUNDRAISING</div>
      <div class="section-heading-border"></div>
      <div class="home-fundraise-subtitle">
        TO START A FUNDRAISING APPEAL FOR YOUR CHARITY PROJECT, PLEASE GET IN TOUCH
      </div>
    </div>
    <div class="home-fundraise-form col-md-10 col-md-offset-1 col-xs-10 col-xs-offset-1"> <!-- USE NG FORM -->
      <form id="contactForm" name="homeCtrl.contactForm" novalidate="">
        <div class="row">
          <div class="col-md-4">
            <div class="form-small" id="form-name" has-error>
              <label class="sr-only" for="contactName" style="color: rgba(255, 255, 255, 0.5)">Full name</label>
              <div>
                <input type="text" value="" name="contactName" class="form-input"
                ng-model="homeCtrl.contact.name" id="contactName" placeholder="Full name"
                required>
                <error-message name="contactName" error="required">This field is required
                </error-message>
              </div>
            </div>
            <div class="form-small" id="form-email" has-error>
              <label class="sr-only" for="contactEmail">Email</label>
              <div>
                <input type="email" value="" name="contactEmail" class="required email form-input"
                ng-model="homeCtrl.contact.email" id="contactEmail"
                placeholder="Email address"
                required>
                <error-message name="contactEmail" error="required">This field is required
                </error-message>
                <error-message name="contactEmail" error="email">Please provide correct email
                  address
                </error-message>
              </div>
            </div>
          </div>
          <div class="col-md-4" style="padding-right: 75px; position: relative; margin-top: 10px;">
            <div class="form-small" id="form-title" has-error>
              <label class="sr-only" for="projectTitle">Project Title</label>
              <div>
                <input type="text" value="" name="projectTitle" class="form-input"
                ng-model="homeCtrl.contact.title" id="projectTile"
                placeholder="Project title"
                required>
                <error-message name="projectTitle" error="required">This field is required
                </error-message>
              </div>
            </div>
            <div>
              <textarea class="form-large" rows="3" name="contactMessage"
              id="contactMessage" placeholder="Project Overview"
              ng-model="homeCtrl.contact.message">
            </textarea>
          </div>
        </div>
        <div class="col-md-4" id="form-send">
          <a name="sendMessage" id="sendMessageButton"
          class="message-button"
          ng-click="homeCtrl.sendMessage()">Send Message</a>
        </div>
      </div>
    </form>
  </div>
</div>
  <alice-footer model="homeCtrl.campaign"></alice-footer>
</div>
